; PlatformIO Project Configuration File
; Minimal OTA Bridge Firmware
;
; This is a tiny firmware that provides WiFi + OTA capability only.
; Use this to upgrade devices with small OTA partitions (like original GeekMagic).
;
; After flashing this, you can then flash the full EpicWeatherBox firmware via OTA.

[env:ota-bridge]
platform = espressif8266
board = esp12e
framework = arduino

; Optimize for smallest size
build_flags =
    -DOTA_BRIDGE_ONLY
    -Os
    -DBEARSSL_SSL_BASIC

; Minimal partition scheme - maximize OTA space
board_build.ldscript = eagle.flash.1m128.ld

; Upload settings
upload_speed = 921600
monitor_speed = 115200

; Minimize library usage
lib_deps =
    tzapu/WiFiManager@^0.16.0
